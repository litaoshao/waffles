<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GClasses: GClasses::GPackageClient Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GClasses</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_g_classes_1_1_g_package_client.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>GClasses::GPackageClient Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="GClasses::GPackageClient" --><!-- doxytag: inherits="GClasses::GTCPClient" -->
<p>This class abstracts a client that speaks a home-made protocol that guarantees packages will arrive in the same order and size as when they were sent. This protocol is a simple layer on top of TCP.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;GSocket.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for GClasses::GPackageClient:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_g_classes_1_1_g_package_client.png" usemap="#GClasses::GPackageClient_map" alt=""/>
  <map id="GClasses::GPackageClient_map" name="GClasses::GPackageClient_map">
<area href="class_g_classes_1_1_g_t_c_p_client.html" alt="GClasses::GTCPClient" shape="rect" coords="0,0,161,24"/>
</map>
 </div></div>

<p><a href="class_g_classes_1_1_g_package_client-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_package_client.html#a3b3ac901ca937217c19dbf6a62d2587f">GPackageClient</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_package_client.html#a81838e4beba1af266bcb6331d7ea14bd">~GPackageClient</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_package_client.html#ac4d2bf5ae743e5473cc47aafcdc604bb">send</a> (const char *buf, size_t len)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a package, which guarantees to arrive in the same order and size as it was sent.  <a href="#ac4d2bf5ae743e5473cc47aafcdc604bb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_package_client.html#a0cf5aea22e0dff5f8a3a3718bb19c9e6">receive</a> (size_t *pLen)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive the next available package. (This returns a pointer to an internal buffer, the contents of which only remain valid until the next time you call receive.)  <a href="#a0cf5aea22e0dff5f8a3a3718bb19c9e6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_package_client.html#ad89a7d4736085bf2792ea63110be3bf6">setMaxBufferSizes</a> (size_t a, size_t b)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets some internal values that guide how it reallocates the internal buffer. 'a' is the maximum buffer size to keep around. 'b' is the maximum size for the buffer ever. If a package bigger than 'b' is sent, an exception will be thrown. If a package bigger than 'a' is sent, then the buffer will be grown to that size, but it will be made small again the next time a package is received.  <a href="#ad89a7d4736085bf2792ea63110be3bf6"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_package_client.html#a8c962bb828ac97ae1f0bb4bc37e584b1">onReceiveBadData</a> (const char *message)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called if the peer sends data that does not follow the expected protocol.  <a href="#a8c962bb828ac97ae1f0bb4bc37e584b1"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_package_client.html#a411819e4e8c3f63c62f858f9bc2fd577">m_header</a> [2]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_package_client.html#a7bef518fedd9f8d84787d03128e1fb30">m_headerBytes</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_package_client.html#ad3c95876c2ee81d5657545979ecc556f">m_payloadBytes</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_package_client.html#adefb1856c506332091f0cf38ae769f87">m_bufSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_package_client.html#a927c177fb77deef0bcf80db012a7f90d">m_maxBufSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_package_client.html#a7090a0236c25c809dbfbb80d7a91bf7e">m_maxPackageSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_package_client.html#a4a709f32faad7ce5a18bca0c9a7bc364">m_pBuf</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class abstracts a client that speaks a home-made protocol that guarantees packages will arrive in the same order and size as when they were sent. This protocol is a simple layer on top of TCP. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3b3ac901ca937217c19dbf6a62d2587f"></a><!-- doxytag: member="GClasses::GPackageClient::GPackageClient" ref="a3b3ac901ca937217c19dbf6a62d2587f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GClasses::GPackageClient::GPackageClient </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a81838e4beba1af266bcb6331d7ea14bd"></a><!-- doxytag: member="GClasses::GPackageClient::~GPackageClient" ref="a81838e4beba1af266bcb6331d7ea14bd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual GClasses::GPackageClient::~GPackageClient </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a8c962bb828ac97ae1f0bb4bc37e584b1"></a><!-- doxytag: member="GClasses::GPackageClient::onReceiveBadData" ref="a8c962bb828ac97ae1f0bb4bc37e584b1" args="(const char *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void GClasses::GPackageClient::onReceiveBadData </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method is called if the peer sends data that does not follow the expected protocol. </p>

</div>
</div>
<a class="anchor" id="a0cf5aea22e0dff5f8a3a3718bb19c9e6"></a><!-- doxytag: member="GClasses::GPackageClient::receive" ref="a0cf5aea22e0dff5f8a3a3718bb19c9e6" args="(size_t *pLen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* GClasses::GPackageClient::receive </td>
          <td>(</td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pLen</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Receive the next available package. (This returns a pointer to an internal buffer, the contents of which only remain valid until the next time you call receive.) </p>

</div>
</div>
<a class="anchor" id="ac4d2bf5ae743e5473cc47aafcdc604bb"></a><!-- doxytag: member="GClasses::GPackageClient::send" ref="ac4d2bf5ae743e5473cc47aafcdc604bb" args="(const char *buf, size_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GClasses::GPackageClient::send </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a package, which guarantees to arrive in the same order and size as it was sent. </p>

<p>Reimplemented from <a class="el" href="class_g_classes_1_1_g_t_c_p_client.html#a025a735ee619c2356bf5e1ec263f522a">GClasses::GTCPClient</a>.</p>

</div>
</div>
<a class="anchor" id="ad89a7d4736085bf2792ea63110be3bf6"></a><!-- doxytag: member="GClasses::GPackageClient::setMaxBufferSizes" ref="ad89a7d4736085bf2792ea63110be3bf6" args="(size_t a, size_t b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GClasses::GPackageClient::setMaxBufferSizes </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets some internal values that guide how it reallocates the internal buffer. 'a' is the maximum buffer size to keep around. 'b' is the maximum size for the buffer ever. If a package bigger than 'b' is sent, an exception will be thrown. If a package bigger than 'a' is sent, then the buffer will be grown to that size, but it will be made small again the next time a package is received. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="adefb1856c506332091f0cf38ae769f87"></a><!-- doxytag: member="GClasses::GPackageClient::m_bufSize" ref="adefb1856c506332091f0cf38ae769f87" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="class_g_classes_1_1_g_package_client.html#adefb1856c506332091f0cf38ae769f87">GClasses::GPackageClient::m_bufSize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a411819e4e8c3f63c62f858f9bc2fd577"></a><!-- doxytag: member="GClasses::GPackageClient::m_header" ref="a411819e4e8c3f63c62f858f9bc2fd577" args="[2]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="class_g_classes_1_1_g_package_client.html#a411819e4e8c3f63c62f858f9bc2fd577">GClasses::GPackageClient::m_header</a>[2]<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7bef518fedd9f8d84787d03128e1fb30"></a><!-- doxytag: member="GClasses::GPackageClient::m_headerBytes" ref="a7bef518fedd9f8d84787d03128e1fb30" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="class_g_classes_1_1_g_package_client.html#a7bef518fedd9f8d84787d03128e1fb30">GClasses::GPackageClient::m_headerBytes</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a927c177fb77deef0bcf80db012a7f90d"></a><!-- doxytag: member="GClasses::GPackageClient::m_maxBufSize" ref="a927c177fb77deef0bcf80db012a7f90d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="class_g_classes_1_1_g_package_client.html#a927c177fb77deef0bcf80db012a7f90d">GClasses::GPackageClient::m_maxBufSize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7090a0236c25c809dbfbb80d7a91bf7e"></a><!-- doxytag: member="GClasses::GPackageClient::m_maxPackageSize" ref="a7090a0236c25c809dbfbb80d7a91bf7e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="class_g_classes_1_1_g_package_client.html#a7090a0236c25c809dbfbb80d7a91bf7e">GClasses::GPackageClient::m_maxPackageSize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad3c95876c2ee81d5657545979ecc556f"></a><!-- doxytag: member="GClasses::GPackageClient::m_payloadBytes" ref="ad3c95876c2ee81d5657545979ecc556f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="class_g_classes_1_1_g_package_client.html#ad3c95876c2ee81d5657545979ecc556f">GClasses::GPackageClient::m_payloadBytes</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4a709f32faad7ce5a18bca0c9a7bc364"></a><!-- doxytag: member="GClasses::GPackageClient::m_pBuf" ref="a4a709f32faad7ce5a18bca0c9a7bc364" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="class_g_classes_1_1_g_package_client.html#a4a709f32faad7ce5a18bca0c9a7bc364">GClasses::GPackageClient::m_pBuf</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_g_classes.html">GClasses</a>      </li>
      <li class="navelem"><a class="el" href="class_g_classes_1_1_g_package_client.html">GPackageClient</a>      </li>
      <li class="footer">Generated on Mon Dec 5 2011 14:19:03 for GClasses by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>

</body>
</html>
