<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GClasses: GClasses::GCollaborativeFilter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GClasses</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_g_classes_1_1_g_collaborative_filter.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>GClasses::GCollaborativeFilter Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="GClasses::GCollaborativeFilter" -->
<p>The base class for collaborative filtering recommender systems.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;GRecommender.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for GClasses::GCollaborativeFilter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_g_classes_1_1_g_collaborative_filter.png" usemap="#GClasses::GCollaborativeFilter_map" alt=""/>
  <map id="GClasses::GCollaborativeFilter_map" name="GClasses::GCollaborativeFilter_map">
<area href="class_g_classes_1_1_g_bag_of_recommenders.html" alt="GClasses::GBagOfRecommenders" shape="rect" coords="0,56,240,80"/>
<area href="class_g_classes_1_1_g_baseline_recommender.html" alt="GClasses::GBaselineRecommender" shape="rect" coords="250,56,490,80"/>
<area href="class_g_classes_1_1_g_dense_cluster_recommender.html" alt="GClasses::GDenseClusterRecommender" shape="rect" coords="500,56,740,80"/>
<area href="class_g_classes_1_1_g_instance_recommender.html" alt="GClasses::GInstanceRecommender" shape="rect" coords="750,56,990,80"/>
<area href="class_g_classes_1_1_g_matrix_factorization.html" alt="GClasses::GMatrixFactorization" shape="rect" coords="1000,56,1240,80"/>
<area href="class_g_classes_1_1_g_nonlinear_p_c_a.html" alt="GClasses::GNonlinearPCA" shape="rect" coords="1250,56,1490,80"/>
<area href="class_g_classes_1_1_g_sparse_cluster_recommender.html" alt="GClasses::GSparseClusterRecommender" shape="rect" coords="1500,56,1740,80"/>
</map>
 </div></div>

<p><a href="class_g_classes_1_1_g_collaborative_filter-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#a10ad0a0d569119abc6c7cf4553c5e4d1">GCollaborativeFilter</a> (<a class="el" href="class_g_classes_1_1_g_rand.html">GRand</a> &amp;rand)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#aecb64777face876c3e1f4717bfad920f">GCollaborativeFilter</a> (<a class="el" href="class_g_classes_1_1_g_dom_node.html">GDomNode</a> *pNode, <a class="el" href="class_g_classes_1_1_g_learner_loader.html">GLearnerLoader</a> &amp;ll)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#a27b5e375e11725cf322359d85ff9f3f0">~GCollaborativeFilter</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#abfba0002a95baf7b3b9871e71a5a4387">train</a> (<a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> &amp;data)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Trains this recommender system. Let R be an m-by-n sparse matrix of known ratings from m users of n items. pData should contain 3 columns, and one row for each known element in R. Column 0 in pData specifies the user index from 0 to m-1, column 1 in pData specifies the item index from 0 to n-1, and column 2 in pData specifies the rating vector for that user-item pair. All attributes in pData should be continuous.  <a href="#abfba0002a95baf7b3b9871e71a5a4387"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#aedd44e5604cbe6653d9e6037b4c8390c">trainDenseMatrix</a> (<a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> &amp;data, <a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> *pLabels=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Train from an m-by-n dense matrix, where m is the number of users and n is the number of items. All attributes must be continuous. Missing values are indicated with UNKNOWN_REAL_VALUE. If pLabels is non-NULL, then the labels will be appended as additional items.  <a href="#aedd44e5604cbe6653d9e6037b4c8390c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#aa5d369a94faf2da118b01a2d7ee622d6">predict</a> (size_t user, size_t item)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This returns a prediction for how the specified user will rate the specified item. (The model must be trained before this method is called. Also, some values for that user and item should have been included in the training set, or else this method will have no basis to make a good prediction.)  <a href="#aa5d369a94faf2da118b01a2d7ee622d6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#a0d2b729baf21646f547c74690c721e9a">impute</a> (double *pVec, size_t dims)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">pVec should be a vector of n real values, where n is the number of items/attributes/columns in the data that was used to train the model. to UNKNOWN_REAL_VALUE. This method will evaluate the known elements and impute (predict) values for the unknown elements. (The model should be trained before this method is called. Unlike the predict method, this method can operate on row-vectors that were not part of the training data.)  <a href="#a0d2b729baf21646f547c74690c721e9a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_g_classes_1_1_g_dom_node.html">GDomNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#a940b92cd2f262c72cfd27b18505b438b">serialize</a> (<a class="el" href="class_g_classes_1_1_g_dom.html">GDom</a> *pDoc)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Marshal this object into a DOM that can be converted to a variety of formats. (Implementations of this method should use baseDomNode.)  <a href="#a940b92cd2f262c72cfd27b18505b438b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#af43b24c4aa82ea3417be74899d0052cd">crossValidate</a> (<a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> &amp;data, size_t folds, double *pOutMAE=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This randomly assigns each rating to one of the folds. Then, for each fold, it calls train with a dataset that contains everything except for the ratings in that fold. It predicts values for the items in the fold, and returns the mean-squared difference between the predictions and the actual ratings. If pOutMAE is non-NULL, it will be set to the mean-absolute error.  <a href="#af43b24c4aa82ea3417be74899d0052cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#a8f1eab2b1ee1ec57a388fa412ab47628">trainAndTest</a> (<a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> &amp;train, <a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> &amp;test, double *pOutMAE=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This trains on the training set, and then tests on the test set. Returns the mean-squared difference between actual and target predictions.  <a href="#a8f1eab2b1ee1ec57a388fa412ab47628"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#a2d06812b9d339a6055b3560625ec7436">precisionRecall</a> (<a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> &amp;data, bool ideal=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This divides the data into two equal-size parts. It trains on one part, and then measures the precision/recall using the other part. It returns a three-column data set with recall scores in column 0 and corresponding precision scores in column 1. The false-positive rate is in column 2. (So, if you want a precision-recall plot, just drop column 2. If you want an ROC curve, drop column 1 and swap the remaining two columns.) This method assumes the ratings range from 0 to 1, so be sure to scale the ratings to fit that range before calling this method. If ideal is true, then it will ignore your model and report the ideal results as if your model always predicted the correct rating. (This is useful because it shows the best possible results.)  <a href="#a2d06812b9d339a6055b3560625ec7436"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#a063d5af634d113329e5f00385297762f">basicTest</a> (double minMSE)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a basic unit test on this collaborative filter.  <a href="#a063d5af634d113329e5f00385297762f"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#af589853cb95a621a4249ebba823aea8c">areaUnderCurve</a> (<a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> &amp;data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Pass in the data returned by the precisionRecall function (unmodified), and this will compute the area under the ROC curve.  <a href="#af589853cb95a621a4249ebba823aea8c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_g_classes_1_1_g_dom_node.html">GDomNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#ad1cd7d439de329c3e105f263a3bbd99c">baseDomNode</a> (<a class="el" href="class_g_classes_1_1_g_dom.html">GDom</a> *pDoc, const char *szClassName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Child classes should use this in their implementation of serialize.  <a href="#ad1cd7d439de329c3e105f263a3bbd99c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_g_classes_1_1_g_rand.html">GRand</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#a07d6bd205c740c823f2a82cc6f30d437">m_rand</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The base class for collaborative filtering recommender systems. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a10ad0a0d569119abc6c7cf4553c5e4d1"></a><!-- doxytag: member="GClasses::GCollaborativeFilter::GCollaborativeFilter" ref="a10ad0a0d569119abc6c7cf4553c5e4d1" args="(GRand &amp;rand)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GClasses::GCollaborativeFilter::GCollaborativeFilter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_g_classes_1_1_g_rand.html">GRand</a> &amp;&#160;</td>
          <td class="paramname"><em>rand</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aecb64777face876c3e1f4717bfad920f"></a><!-- doxytag: member="GClasses::GCollaborativeFilter::GCollaborativeFilter" ref="aecb64777face876c3e1f4717bfad920f" args="(GDomNode *pNode, GLearnerLoader &amp;ll)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GClasses::GCollaborativeFilter::GCollaborativeFilter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_g_classes_1_1_g_dom_node.html">GDomNode</a> *&#160;</td>
          <td class="paramname"><em>pNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_g_classes_1_1_g_learner_loader.html">GLearnerLoader</a> &amp;&#160;</td>
          <td class="paramname"><em>ll</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a27b5e375e11725cf322359d85ff9f3f0"></a><!-- doxytag: member="GClasses::GCollaborativeFilter::~GCollaborativeFilter" ref="a27b5e375e11725cf322359d85ff9f3f0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual GClasses::GCollaborativeFilter::~GCollaborativeFilter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="af589853cb95a621a4249ebba823aea8c"></a><!-- doxytag: member="GClasses::GCollaborativeFilter::areaUnderCurve" ref="af589853cb95a621a4249ebba823aea8c" args="(GMatrix &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static double GClasses::GCollaborativeFilter::areaUnderCurve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pass in the data returned by the precisionRecall function (unmodified), and this will compute the area under the ROC curve. </p>

</div>
</div>
<a class="anchor" id="ad1cd7d439de329c3e105f263a3bbd99c"></a><!-- doxytag: member="GClasses::GCollaborativeFilter::baseDomNode" ref="ad1cd7d439de329c3e105f263a3bbd99c" args="(GDom *pDoc, const char *szClassName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_g_classes_1_1_g_dom_node.html">GDomNode</a>* GClasses::GCollaborativeFilter::baseDomNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_g_classes_1_1_g_dom.html">GDom</a> *&#160;</td>
          <td class="paramname"><em>pDoc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>szClassName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Child classes should use this in their implementation of serialize. </p>

</div>
</div>
<a class="anchor" id="a063d5af634d113329e5f00385297762f"></a><!-- doxytag: member="GClasses::GCollaborativeFilter::basicTest" ref="a063d5af634d113329e5f00385297762f" args="(double minMSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GClasses::GCollaborativeFilter::basicTest </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minMSE</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Performs a basic unit test on this collaborative filter. </p>

</div>
</div>
<a class="anchor" id="af43b24c4aa82ea3417be74899d0052cd"></a><!-- doxytag: member="GClasses::GCollaborativeFilter::crossValidate" ref="af43b24c4aa82ea3417be74899d0052cd" args="(GMatrix &amp;data, size_t folds, double *pOutMAE=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double GClasses::GCollaborativeFilter::crossValidate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>folds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>pOutMAE</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This randomly assigns each rating to one of the folds. Then, for each fold, it calls train with a dataset that contains everything except for the ratings in that fold. It predicts values for the items in the fold, and returns the mean-squared difference between the predictions and the actual ratings. If pOutMAE is non-NULL, it will be set to the mean-absolute error. </p>

</div>
</div>
<a class="anchor" id="a0d2b729baf21646f547c74690c721e9a"></a><!-- doxytag: member="GClasses::GCollaborativeFilter::impute" ref="a0d2b729baf21646f547c74690c721e9a" args="(double *pVec, size_t dims)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void GClasses::GCollaborativeFilter::impute </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>pVec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dims</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pVec should be a vector of n real values, where n is the number of items/attributes/columns in the data that was used to train the model. to UNKNOWN_REAL_VALUE. This method will evaluate the known elements and impute (predict) values for the unknown elements. (The model should be trained before this method is called. Unlike the predict method, this method can operate on row-vectors that were not part of the training data.) </p>

<p>Implemented in <a class="el" href="class_g_classes_1_1_g_baseline_recommender.html#a356bb3f8d102bfe072b0622e495e1d62">GClasses::GBaselineRecommender</a>, <a class="el" href="class_g_classes_1_1_g_instance_recommender.html#a4d022ad36df79b9ba4617d6e5132231f">GClasses::GInstanceRecommender</a>, <a class="el" href="class_g_classes_1_1_g_sparse_cluster_recommender.html#a1cd578f8f770a346d694767033d7ab92">GClasses::GSparseClusterRecommender</a>, <a class="el" href="class_g_classes_1_1_g_dense_cluster_recommender.html#a348950b6f27d0524505cb81f6d9b3835">GClasses::GDenseClusterRecommender</a>, <a class="el" href="class_g_classes_1_1_g_matrix_factorization.html#adf96b7ddce12f73d295229aa5b518bea">GClasses::GMatrixFactorization</a>, <a class="el" href="class_g_classes_1_1_g_nonlinear_p_c_a.html#a08fe0994a5b286800e03e3f92b6f2191">GClasses::GNonlinearPCA</a>, and <a class="el" href="class_g_classes_1_1_g_bag_of_recommenders.html#a4fabdbc17505c15b2ccc9a7c04f2e17e">GClasses::GBagOfRecommenders</a>.</p>

</div>
</div>
<a class="anchor" id="a2d06812b9d339a6055b3560625ec7436"></a><!-- doxytag: member="GClasses::GCollaborativeFilter::precisionRecall" ref="a2d06812b9d339a6055b3560625ec7436" args="(GMatrix &amp;data, bool ideal=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a>* GClasses::GCollaborativeFilter::precisionRecall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ideal</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This divides the data into two equal-size parts. It trains on one part, and then measures the precision/recall using the other part. It returns a three-column data set with recall scores in column 0 and corresponding precision scores in column 1. The false-positive rate is in column 2. (So, if you want a precision-recall plot, just drop column 2. If you want an ROC curve, drop column 1 and swap the remaining two columns.) This method assumes the ratings range from 0 to 1, so be sure to scale the ratings to fit that range before calling this method. If ideal is true, then it will ignore your model and report the ideal results as if your model always predicted the correct rating. (This is useful because it shows the best possible results.) </p>

</div>
</div>
<a class="anchor" id="aa5d369a94faf2da118b01a2d7ee622d6"></a><!-- doxytag: member="GClasses::GCollaborativeFilter::predict" ref="aa5d369a94faf2da118b01a2d7ee622d6" args="(size_t user, size_t item)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual double GClasses::GCollaborativeFilter::predict </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This returns a prediction for how the specified user will rate the specified item. (The model must be trained before this method is called. Also, some values for that user and item should have been included in the training set, or else this method will have no basis to make a good prediction.) </p>

<p>Implemented in <a class="el" href="class_g_classes_1_1_g_baseline_recommender.html#a5bfd467ff992954d2c66abffd26011a0">GClasses::GBaselineRecommender</a>, <a class="el" href="class_g_classes_1_1_g_instance_recommender.html#a4e8a75acb50bc8e0bec769af64f2a11c">GClasses::GInstanceRecommender</a>, <a class="el" href="class_g_classes_1_1_g_sparse_cluster_recommender.html#acf7eb2bb128ef966e876bf1bf3558c7c">GClasses::GSparseClusterRecommender</a>, <a class="el" href="class_g_classes_1_1_g_dense_cluster_recommender.html#ab495b2e1b32df3c8e82c446ad619b976">GClasses::GDenseClusterRecommender</a>, <a class="el" href="class_g_classes_1_1_g_matrix_factorization.html#a3195bbf5a7bcdda4591ca7b38edd7e68">GClasses::GMatrixFactorization</a>, <a class="el" href="class_g_classes_1_1_g_nonlinear_p_c_a.html#ac81bf40403f485a31ba067fe6bb0ad9f">GClasses::GNonlinearPCA</a>, and <a class="el" href="class_g_classes_1_1_g_bag_of_recommenders.html#ac8721a585e349d2ac49895586aa57c47">GClasses::GBagOfRecommenders</a>.</p>

</div>
</div>
<a class="anchor" id="a940b92cd2f262c72cfd27b18505b438b"></a><!-- doxytag: member="GClasses::GCollaborativeFilter::serialize" ref="a940b92cd2f262c72cfd27b18505b438b" args="(GDom *pDoc)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_g_classes_1_1_g_dom_node.html">GDomNode</a>* GClasses::GCollaborativeFilter::serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_g_classes_1_1_g_dom.html">GDom</a> *&#160;</td>
          <td class="paramname"><em>pDoc</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Marshal this object into a DOM that can be converted to a variety of formats. (Implementations of this method should use baseDomNode.) </p>

<p>Implemented in <a class="el" href="class_g_classes_1_1_g_baseline_recommender.html#abf566eb11824188742ef1d420de8f8d7">GClasses::GBaselineRecommender</a>, <a class="el" href="class_g_classes_1_1_g_instance_recommender.html#a99abe727041a1bf946cdd8212fab1070">GClasses::GInstanceRecommender</a>, <a class="el" href="class_g_classes_1_1_g_sparse_cluster_recommender.html#a8b8c630f5238bf45ddaf02247961d006">GClasses::GSparseClusterRecommender</a>, <a class="el" href="class_g_classes_1_1_g_dense_cluster_recommender.html#acea39da91f5234a7273bfd8086011c3f">GClasses::GDenseClusterRecommender</a>, <a class="el" href="class_g_classes_1_1_g_matrix_factorization.html#a53055dfc7b0a2b5cd361eb401313f61a">GClasses::GMatrixFactorization</a>, <a class="el" href="class_g_classes_1_1_g_nonlinear_p_c_a.html#ad6f611be1340ebb24c95b1bbe3b06fc0">GClasses::GNonlinearPCA</a>, and <a class="el" href="class_g_classes_1_1_g_bag_of_recommenders.html#ac23bafe90d9f15524c626698270da340">GClasses::GBagOfRecommenders</a>.</p>

</div>
</div>
<a class="anchor" id="abfba0002a95baf7b3b9871e71a5a4387"></a><!-- doxytag: member="GClasses::GCollaborativeFilter::train" ref="abfba0002a95baf7b3b9871e71a5a4387" args="(GMatrix &amp;data)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void GClasses::GCollaborativeFilter::train </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Trains this recommender system. Let R be an m-by-n sparse matrix of known ratings from m users of n items. pData should contain 3 columns, and one row for each known element in R. Column 0 in pData specifies the user index from 0 to m-1, column 1 in pData specifies the item index from 0 to n-1, and column 2 in pData specifies the rating vector for that user-item pair. All attributes in pData should be continuous. </p>

<p>Implemented in <a class="el" href="class_g_classes_1_1_g_baseline_recommender.html#aa99a9dad097cd4ea21185bc96b04205c">GClasses::GBaselineRecommender</a>, <a class="el" href="class_g_classes_1_1_g_instance_recommender.html#a987f8bfea1769433a2403b158d6d342a">GClasses::GInstanceRecommender</a>, <a class="el" href="class_g_classes_1_1_g_sparse_cluster_recommender.html#a29a214eeea93d0740259ef6e7a294479">GClasses::GSparseClusterRecommender</a>, <a class="el" href="class_g_classes_1_1_g_dense_cluster_recommender.html#a3b43e191c25956e29696d066cfaafb1f">GClasses::GDenseClusterRecommender</a>, <a class="el" href="class_g_classes_1_1_g_matrix_factorization.html#a37b890777ba47201b91a42deb817b790">GClasses::GMatrixFactorization</a>, <a class="el" href="class_g_classes_1_1_g_nonlinear_p_c_a.html#aac99a7b4ea7925eb41e38c2f786eb51d">GClasses::GNonlinearPCA</a>, and <a class="el" href="class_g_classes_1_1_g_bag_of_recommenders.html#a906b4ce880733cd198530dc39f96730f">GClasses::GBagOfRecommenders</a>.</p>

</div>
</div>
<a class="anchor" id="a8f1eab2b1ee1ec57a388fa412ab47628"></a><!-- doxytag: member="GClasses::GCollaborativeFilter::trainAndTest" ref="a8f1eab2b1ee1ec57a388fa412ab47628" args="(GMatrix &amp;train, GMatrix &amp;test, double *pOutMAE=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double GClasses::GCollaborativeFilter::trainAndTest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> &amp;&#160;</td>
          <td class="paramname"><em>train</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> &amp;&#160;</td>
          <td class="paramname"><em>test</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>pOutMAE</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This trains on the training set, and then tests on the test set. Returns the mean-squared difference between actual and target predictions. </p>

</div>
</div>
<a class="anchor" id="aedd44e5604cbe6653d9e6037b4c8390c"></a><!-- doxytag: member="GClasses::GCollaborativeFilter::trainDenseMatrix" ref="aedd44e5604cbe6653d9e6037b4c8390c" args="(GMatrix &amp;data, GMatrix *pLabels=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GClasses::GCollaborativeFilter::trainDenseMatrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_g_classes_1_1_g_matrix.html">GMatrix</a> *&#160;</td>
          <td class="paramname"><em>pLabels</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Train from an m-by-n dense matrix, where m is the number of users and n is the number of items. All attributes must be continuous. Missing values are indicated with UNKNOWN_REAL_VALUE. If pLabels is non-NULL, then the labels will be appended as additional items. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a07d6bd205c740c823f2a82cc6f30d437"></a><!-- doxytag: member="GClasses::GCollaborativeFilter::m_rand" ref="a07d6bd205c740c823f2a82cc6f30d437" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_g_classes_1_1_g_rand.html">GRand</a>&amp; <a class="el" href="class_g_classes_1_1_g_collaborative_filter.html#a07d6bd205c740c823f2a82cc6f30d437">GClasses::GCollaborativeFilter::m_rand</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_g_classes.html">GClasses</a>      </li>
      <li class="navelem"><a class="el" href="class_g_classes_1_1_g_collaborative_filter.html">GCollaborativeFilter</a>      </li>
      <li class="footer">Generated on Mon Dec 5 2011 14:19:03 for GClasses by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>

</body>
</html>
